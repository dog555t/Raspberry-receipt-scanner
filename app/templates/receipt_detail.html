{% extends 'base.html' %}
{% block content %}
<h2>Receipt Detail</h2>
<div class="row">
  <div class="col-md-6">
    <form method="post">
      <div class="mb-2"><label class="form-label">Date</label><input class="form-control" name="date" value="{{ receipt['date'] }}"></div>
      <div class="mb-2"><label class="form-label">Vendor</label><input class="form-control" name="vendor" value="{{ receipt['vendor'] }}"></div>
      <div class="mb-2"><label class="form-label">Total</label><input class="form-control" name="total_amount" value="{{ receipt['total_amount'] }}"></div>
      <div class="mb-2"><label class="form-label">Tax</label><input class="form-control" name="tax_amount" value="{{ receipt['tax_amount'] }}"></div>
      <div class="mb-2"><label class="form-label">Currency</label><input class="form-control" name="currency" value="{{ receipt['currency'] }}"></div>
      <div class="mb-2"><label class="form-label">Payment Method</label><input class="form-control" name="payment_method" value="{{ receipt['payment_method'] }}"></div>
      <div class="mb-2"><label class="form-label">Category</label><input class="form-control" name="category" value="{{ receipt['category'] }}"></div>
      <div class="mb-2"><label class="form-label">Notes</label><textarea class="form-control" name="notes">{{ receipt['notes'] }}</textarea></div>
      <button class="btn btn-primary" type="submit">Save</button>
    </form>
    <form method="post" action="{{ url_for('main.remove_receipt', receipt_id=receipt['id']) }}" class="mt-3">
      <button class="btn btn-danger" type="submit" onclick="return confirm('Delete this receipt?')">Delete</button>
    </form>
  </div>
  <div class="col-md-6">
    <h5>Image</h5>
    {% if receipt['image_path'] %}
    <img src="{{ url_for('main.serve_image', filename=receipt['image_path']) }}" class="img-fluid mb-3" alt="Receipt image">
    {% endif %}
    <h5>Raw OCR Text</h5>
    <pre class="bg-light p-2">{{ receipt['raw_text'] }}</pre>
  </div>
</div>
{% endblock %}
